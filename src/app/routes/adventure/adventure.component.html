<mat-grid-list *ngIf="!currentAdventure" cols="2" rowHeight="300px">
  <mat-grid-tile *ngFor="let adv of allAdventures">
    <mat-card class="full-width" style="border: 4px solid #f2f2f2">
      <mat-card-header>
        <mat-card-title style="font-size: 28px">{{ adv.name }}</mat-card-title>
        <mat-card-subtitle>{{ adv.description }}</mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
          <p mat-line>Level {{ adv.levelMin }}-{{ adv.levelMax}}</p>
          <p mat-line>{{ adv.waves }} Waves</p>
      </mat-card-content>
      <mat-card-actions>
        <button mat-raised-button (click)="start(adv)" color="accent" class="full-width">Start</button>
      </mat-card-actions>
    </mat-card>
  </mat-grid-tile>
</mat-grid-list>

<mat-toolbar *ngIf="adventureFinished" class="full-width background-success small-margin">
  Adventure Finished!
</mat-toolbar>
<button *ngIf="adventureFinished" mat-raised-button (click)="takeLoot()" color="accent" class="full-width">Take Loot</button>

<div *ngIf="currentAdventure && !adventureFinished && !champ.isDead()">
  <mat-slider class="full-width" disabled="true" [max]="currentAdventure.waves" min="1" step="1" [(ngModel)]="currentAdventure.currentWave"></mat-slider>

  <mat-list class="full-width">
    <mat-list-item>
      {{ enemy.name.get() }} (Level {{enemy.level.get()}})
    </mat-list-item>
    <mat-list-item>
      <mat-progress-bar mat-line color="warn" mode="determinate" [value]="enemy.healthPercent">
      </mat-progress-bar>
      <p mat-subheader style="position: absolute; top: 15px; left: 0">{{enemy.currentHealth.get()}} / {{enemy.maxHealth.get()}}</p>
    </mat-list-item>
    <mat-divider style="margin-top: 12px;"></mat-divider>
    <mat-list-item>
      <p mat-line>Stamina: {{enemy.stamina.get()}}</p>
    </mat-list-item>
    <mat-divider></mat-divider>
    <mat-list-item>
      <p mat-line>Strength: {{enemy.strength.get()}}</p>
    </mat-list-item>
    <mat-divider></mat-divider>
  </mat-list>

  <div *ngIf="!enemy.isDead()" class="button-row-center">
    <button mat-fab color="accent" (click)="attack()">
      <mat-icon>gavel</mat-icon>
    </button>
    <button *ngFor="let spell of learnedSpells" mat-fab [color]="spell.color" (click)="castSpell(spell)">
      <mat-icon>{{spell.icon}}</mat-icon>
    </button>
  </div>

  <button *ngIf="enemy.isDead() && !adventureFinished" mat-raised-button (click)="nextWave()" color="accent" class="full-width">Next Wave</button>

</div>

<mat-grid-list *ngIf="champ.isDead()" cols="1" rowHeight="110px">
  <mat-grid-tile [colspan]="1" [rowspan]="1" [style.background]="green">
    <mat-icon color="warn" style="font-size: 64px;">healing</mat-icon>
  </mat-grid-tile>
  <mat-grid-tile [colspan]="1" [rowspan]="1" [style.background]="green">
    <h1 class="mat-headline">You died! You loose some stuff. (TODO!)</h1>
  </mat-grid-tile>
</mat-grid-list>